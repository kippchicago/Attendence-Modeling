# Pre-processing script roster.kaps<-data.table(roster.kaps)# Rename columns to lowercase letters and and shorter names were possible # (i.e. GRADE_LEVEL to grade)setnames(roster.kaps, c("student.name", "ps.id", "grade", "date"))# retype calendar dat with lubridate.  The database returns dates in # YYYY-MM-DD hh:mm:ss format where the times are all 00:00:00, so we can # dispense with the time in the the date fieldroster.kaps[, date:=ymd_hms(date)]# set keys for data.table.  The date and PowerSchool ID should be sufficient for # uniquenesssetkey(roster.kaps, ps.id)# add month and year columns for easier joinsroster.kaps[, month:=month(date)]roster.kaps[, year:=year(date)]cache('roster.kaps')